(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],Array(28).concat([function(e,t,c){},,,,,,,,,,function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a,s=c(1),n=c.n(s),i=c(29),r=c.n(i),l=c(5),o=c.n(l),d=c(8),u=c(4),j=c(6),b=c(3),_=(c(26),c(27),c(7)),m=c.n(_),h=(c(38),c(0)),v=function(){return Object(h.jsx)(j.c,{to:"/",children:Object(h.jsx)("div",{className:"nav-logo"})})},O=(c(40),function(e){var t=e.isActive;return m()("navbar-brand__item",{"navbar-brand__item__active":t})}),x=function(e,t){var c=Object(s.useState)((function(){try{var c=localStorage.getItem(e);return c?JSON.parse(c):t}catch(a){return t}})),a=Object(u.a)(c,2),n=a[0],i=a[1];return[n,function(t){i(t),localStorage.setItem(e,JSON.stringify(t))}]},p=n.a.createContext({productsInCart:[],setProductsInCart:function(){}}),f=function(e){var t=e.children,c=x("cart",[]),a=Object(u.a)(c,2),n=a[0],i=a[1],r=Object(s.useMemo)((function(){return{productsInCart:n,setProductsInCart:i}}),[n,i]);return Object(h.jsx)(p.Provider,{value:r,children:t})},N=n.a.createContext({favouriteProducts:[],setFavouriteProducts:function(){}}),g=function(e){var t=e.children,c=x("favourite",[]),a=Object(u.a)(c,2),n=a[0],i=a[1],r=Object(s.useMemo)((function(){return{favouriteProducts:n,setFavouriteProducts:i}}),[n,i]);return Object(h.jsx)(N.Provider,{value:r,children:t})},P=(c(41),c(9));!function(e){e.Phone="phones",e.Tablet="tablet",e.Accessory="accessory"}(a||(a={}));c(42);var y=function(){var e=Object(b.n)().pathname.split("/").filter((function(e){return""!==e})),t=function(e){var t="";return e.map((function(e){return t+="/".concat(e),{label:e.charAt(0).toUpperCase()+e.slice(1),link:t}}))}(e);return Object(h.jsx)("nav",{className:"breadCrumbs",children:Object(h.jsxs)("ul",{className:"breadCrumbs__list",children:[Object(h.jsx)("li",{className:"breadCrumbs__item",children:Object(h.jsx)(j.b,{to:"/",children:Object(h.jsx)("div",{className:"breadCrumbs__icon"})})}),0!==t.length&&Object(h.jsx)("div",{className:"breadCrumbs__arrow"}),t.map((function(c,a){var n=a===e.length-1,i=m()("breadCrumbs__item",{active:n});return Object(h.jsx)(s.Fragment,{children:n?Object(h.jsx)("li",{className:i,children:c.label},c.link):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{className:i,children:Object(h.jsx)(j.b,{to:"/phones",className:"breadCrumbs__item--link",children:c.label})},c.link),0!==t.length&&Object(h.jsx)("div",{className:"breadCrumbs__arrow"})]})},c.link)}))]})})},C=(c(43),function(e){var t=e.title;return Object(h.jsx)("div",{className:"notFound",children:Object(h.jsx)("h1",{className:"notFound__title",children:"".concat(t," not found")})})}),k=(c(44),function(e){var t=e.options,c=e.value,a=e.onChange,n=Object(s.useState)(!1),i=Object(u.a)(n,2),r=i[0],l=i[1],o=function(){l((function(e){return!e}))},d=t.filter((function(e,t,c){return c.findIndex((function(t){return t.value===e.value}))===t})),j=d.find((function(e){return e.value===c}));"All"===d[0].label&&(d.length=1),Object(s.useEffect)((function(){var e=function(e){"Escape"===e.key&&l(!1)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);return Object(h.jsxs)("div",{className:"DropDown",children:[Object(h.jsx)("div",{className:m()("DropDown__select",{"DropDown__select--is-active":r}),onClick:o,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),o())},role:"button",tabIndex:0,children:j?j.label:""}),r&&Object(h.jsx)("ul",{className:"DropDown__list",children:d.map((function(e){return Object(h.jsx)("li",{className:m()("DropDown__item",{"DropDown__item--selected":c===e.value}),onClick:function(){return t=e.value,a(t),void l(!1);var t},children:e.label},e.value)}))})]})}),w=c(11),S="https://mate-academy.github.io/react_phone-catalog/_new";function I(e){return new Promise((function(t){setTimeout(t,e)}))}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:t};return c&&(a.body=JSON.stringify(c),a.headers={"Content-Type":"application/json; charset=UTF-8"}),I(300).then((function(){return fetch(S+e,a)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var A=function(e){return D(e)},q=function(e){return A("/products/".concat(e,".json"))},M=(c(45),function(){return Object(h.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(h.jsx)("div",{className:"Loader__content"})})}),T=(c(46),c(47),function(e){var t=e.handleAddToCart,c=e.id,a=Object(s.useContext)(p).productsInCart,n=Object(s.useState)(!1),i=Object(u.a)(n,2),r=i[0],l=i[1],o=a.some((function(e){return(e.phoneId===c||e.id===c)&&0!==e.quantity}));return Object(h.jsx)("button",{type:"button",className:m()("AddToCartButton",{isProductAdded:o,"is-clicked":r}),onClick:function(){l(!r),t()},children:Object(h.jsx)("span",{className:"button-text",children:o?"Added to cart":"Add to cart"})})}),F=(c(48),function(e){var t=e.handleAddToFavourites,c=e.isItemFavourite;return Object(h.jsx)("button",{type:"button","aria-label":"fav",onClick:t,"data-cy":"addToFavorite",className:m()("favourite",{isItemFavourite:c}),children:Object(h.jsx)("div",{className:m()("favourite__heart",{"favourite__heart--active":c})})})}),E=function(e){var t=e.product,c=t.image,a=t.name,n=t.price,i=t.fullPrice,r=t.screen,l=t.capacity,b=t.ram,_=t.itemId,m=t.category,v=t.id,O=Object(s.useState)(),x=Object(u.a)(O,2),f=x[0],g=x[1],y=Object(s.useState)(!1),C=Object(u.a)(y,2),k=C[0],S=C[1],I=Object(s.useState)(!1),D=Object(u.a)(I,2),A=D[0],E=D[1],L=Object(s.useContext)(N),R=L.favouriteProducts,B=L.setFavouriteProducts,$=Object(s.useContext)(p),z=$.productsInCart,J=$.setProductsInCart;Object(s.useEffect)((function(){return S(!0),function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(_);case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E(!0);case 10:return e.prev=10,S(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}()(),function(){S(!1)}}),[_]);var U=Object(s.useRef)(null),Y=Object(s.useState)(R.some((function(e){return e.id===v}))),G=Object(u.a)(Y,2),H=G[0],K=G[1],W=z.some((function(e){return e.id===v}));return Object(h.jsx)("div",{className:"ProductCard",ref:U,children:Object(h.jsxs)("div",{className:"ProductCard__content",children:[A&&!k&&Object(h.jsx)("div",{className:"ProductCard__error",children:Object(h.jsx)("h2",{children:"Product download error"})}),k&&!A?Object(h.jsx)(M,{}):!A&&Object(h.jsxs)(h.Fragment,{children:[f&&Object(h.jsx)(j.b,{to:"/".concat(m,"/").concat(_),state:f,className:"ProductCard__photo",onClick:function(){window.scrollTo({top:0})},children:Object(h.jsx)("img",{src:"https://mate-academy.github.io/react_phone-catalog/_new/".concat(c),alt:"product",className:"ProductCard__img"})}),Object(h.jsxs)("div",{className:"ProductCard__wrap",children:[Object(h.jsx)("div",{className:"ProductCard__title",children:a}),Object(h.jsxs)("div",{className:"ProductCard__price",children:[Object(h.jsx)("div",{className:"ProductCard__price-normal",children:"$".concat(n)}),n&&Object(h.jsx)("div",{className:"ProductCard__price-discounted",children:"$".concat(i)})]}),Object(h.jsxs)("div",{className:"ProductCard__details",children:[Object(h.jsxs)("div",{className:"ProductCard__details-item",children:[Object(h.jsx)("div",{className:"ProductCard__details-item__name",children:"Screen"}),Object(h.jsx)("div",{className:"ProductCard__details-item__value",children:r||"-"})]}),Object(h.jsxs)("div",{className:"ProductCard__details-item",children:[Object(h.jsx)("div",{className:"ProductCard__details-item__name",children:"Capacity"}),Object(h.jsx)("div",{className:"ProductCard__details-item__value",children:l||"-"})]}),Object(h.jsxs)("div",{className:"ProductCard__details-item",children:[Object(h.jsx)("div",{className:"ProductCard__details-item__name",children:"RAM"}),Object(h.jsx)("div",{className:"ProductCard__details-item__value",children:b||"-"})]})]}),Object(h.jsxs)("div",{className:"ProductCard__buttons",children:[Object(h.jsx)(T,{handleAddToCart:function(){if(W){var e=z.filter((function(e){return e.id!==v}));J(e)}else{var c=Object(w.a)(Object(w.a)({},t),{},{quantity:1});J([].concat(Object(P.a)(z),[c]))}},id:v}),Object(h.jsx)(F,{handleAddToFavourites:function(){if(K(!H),H){var e=R.filter((function(e){return e.id!==v}));B(e)}else B([].concat(Object(P.a)(R),[t]))},isItemFavourite:H})]})]})]})]})})},L=(c(28),function(e,t,c){var a=t<=3?2:t-1,s=Math.min(a+3,e.length-1);return e.slice(a,s).map((function(e){return Object(h.jsx)(j.b,{to:{search:$(c,{currentPage:"".concat(e)})},className:m()("pagination__button","pagination__button--page",{active:t===e}),children:e},e)}))}),R=function(e){var t=e.productsLength,c=e.pageSize,a=e.currentPage,s=Object(j.d)(),n=Object(u.a)(s,1)[0],i=function(e,t){for(var c=Math.ceil(e/t),a=[],s=0;s<=c;s+=1)a.push(s);return a}(t,c),r=i.length-1;return Object(h.jsxs)("div",{className:"pagination",children:[Object(h.jsx)(j.b,{className:"pagination__button pagination__button--prev",to:{search:$(n,{currentPage:1!==a?"".concat(a-1):"1"})},children:Object(h.jsx)("div",{className:"pagination__arrow pagination__arrow--left"})}),i.length>2&&Object(h.jsx)(j.b,{to:{search:$(n,{currentPage:"".concat(1)})},className:m()("pagination__button","pagination__button--page",{active:1===a}),children:1},1),i.length>3&&a>3&&Object(h.jsx)("div",{className:"pagination__dots",children:"..."}),L(i,a,n),i.length-1>a&&i.length>3&&Object(h.jsx)("div",{className:"pagination__dots",children:"..."}),Object(h.jsx)(j.b,{to:{search:$(n,{currentPage:"".concat(r)})},className:m()("pagination__button","pagination__button--page",{active:a===r}),children:r},r),Object(h.jsx)(j.b,{to:{search:$(n,{currentPage:"".concat(a!==r?a+1:r)})},className:"pagination__button pagination__button--next",children:Object(h.jsx)("div",{className:"pagination__arrow pagination__arrow--right"})})]})},B=[{value:"age",label:"Newest"},{value:"name",label:"Alphabetically"},{value:"price",label:"Cheapest"}];c(49);function $(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(u.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):Array.isArray(s)?(c.delete(a),s.forEach((function(e){c.append(a,e)}))):c.set(a,s)})),c.toString()}var z=n.a.memo((function(e){var t=e.products,c=Object(j.d)(),n=Object(u.a)(c,2),i=n[0],r=n[1],l=i.get("query")||"",o=i.get("sortBy")||"age",d=i.get("pageSize")||4,_=i.get("currentPage")||1,m=Object(b.r)().category,v="";if(m){if(["phones","tablets","accessories"].includes(m))switch(m){case"phones":v="Mobile phones";break;case"tablets":v="Tablets";break;case"accessories":v="Accessories";break;default:v="Page"}else v="Page"}var O=Object(s.useMemo)((function(){return m&&["phones","tablets","accessories"].includes(m)?t.filter((function(e){switch(m){case"phones":return e.category===a.Phone;case"tablets":return e.category===a.Tablet;case"accessories":return e.category===a.Accessory;default:return!1}})):[]}),[t,m]),x=Object(s.useMemo)((function(){return O.filter((function(e){var t=l.toLowerCase().trim();return e.name.toLowerCase().trim().includes(t)}))}),[O,l]),p=Object(s.useMemo)((function(){var e=Object(P.a)(x);switch(o){case"name":e.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"price":e.sort((function(e,t){return e.price-t.price}));break;case"age":default:e.sort((function(e,t){return t.year-e.year}))}return e}),[o,x]),f=(+_-1)*+d,N=f+ +d,g=Object(s.useMemo)((function(){return p.slice(f,+N)}),[p,f,N]),w=p.length,S=[4,8,16,w],I=w>4&&+d!==+w;return Object(h.jsx)("div",{className:"productPage",children:Object(h.jsxs)("div",{className:"container",children:[!g.length&&!l&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{}),Object(h.jsx)(C,{title:v})]}),!g.length&&l?Object(h.jsx)("p",{className:"productPage__empty",children:"No Results"}):!!g.length&&Object(h.jsxs)("div",{className:"productPage__content",children:[Object(h.jsx)(y,{}),Object(h.jsx)("h1",{className:"productPage__title",children:v}),Object(h.jsx)("h3",{className:"productPage__subtitle",children:"".concat(w," models")}),Object(h.jsxs)("div",{className:"productPage__filters",children:[Object(h.jsxs)("div",{className:"productPage__filter",children:[Object(h.jsx)("div",{className:"productPage__label",children:"Sort by"}),Object(h.jsx)(k,{options:B,value:o,onChange:function(e){r($(i,{sortBy:e||null,currentPage:"1"}))}})]}),Object(h.jsxs)("div",{className:"productPage__filter",children:[Object(h.jsx)("div",{className:"productPage__label",children:"Items on page"}),Object(h.jsx)(k,{options:S.map((function(e){return{value:String(e),label:e===w?"All":String(e)}})),value:String(d),onChange:function(e){r($(i,{pageSize:e||null,currentPage:"1"}))}})]})]}),Object(h.jsx)("div",{className:"productPage__list",children:g.map((function(e){return Object(h.jsx)(E,{product:e},e.id)}))}),I&&w>0&&Object(h.jsx)(R,{currentPage:+_,pageSize:+d,productsLength:w})]})]})})}));var J=function(){var e=Object(j.d)(),t=Object(u.a)(e,2),c=t[0],a=t[1],n=c.get("query")||"",i=Object(s.useState)(n),r=Object(u.a)(i,2),l=r[0],o=r[1],d=Object(b.n)(),_=d.pathname.split("/")[1],m=Object(s.useCallback)(function(e,t){var c=0;return function(){for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];window.clearTimeout(c),c=window.setTimeout((function(){e.apply(void 0,s)}),t)}}(a,1e3),[_]);return Object(h.jsxs)("div",{className:"search",children:[Object(h.jsx)("input",{type:"text",className:"search__input",placeholder:"Search in ".concat(d.pathname.slice(21),"..."),value:l,onChange:function(e){return function(e){m($(c,{query:e.target.value||null,currentPage:"1"})),o(e.target.value)}(e)}}),Object(h.jsx)("div",{className:"search__button",children:n?Object(h.jsx)("button",{type:"button","aria-label":"reset button",className:"search__reset",onClick:function(){o(""),a($(c,{query:null}))}}):Object(h.jsx)("div",{className:"search__icon"})})]})},U=function(){var e=Object(b.n)(),t=Object(s.useContext)(N).favouriteProducts,c=Object(s.useContext)(p).productsInCart,a=["/phones","/favourite","/tablets","/accessories"].includes(e.pathname),n=Object(s.useMemo)((function(){return t.length}),[t]),i=Object(s.useMemo)((function(){return c.reduce((function(e,t){return e+t.quantity}),0)}),[c]);return Object(h.jsx)("nav",{"data-cy":"nav",className:"navbar-main is-fixed-top has-shadow",role:"navigation","aria-label":"main navigation",children:Object(h.jsxs)("div",{className:"navbar__container",children:[Object(h.jsxs)("div",{className:"navbar-brand",children:[Object(h.jsx)(v,{}),Object(h.jsx)(j.c,{to:"/",className:O,children:Object(h.jsx)("span",{className:"mont",children:"Home"})}),Object(h.jsx)(j.c,{to:"/phones",className:O,children:Object(h.jsx)("span",{className:"mont",children:"Phones"})}),Object(h.jsx)(j.c,{to:"/tablets",className:O,children:Object(h.jsx)("span",{className:"mont",children:"Tablets"})}),Object(h.jsx)(j.c,{to:"/accessories",className:O,children:Object(h.jsx)("span",{className:"mont",children:"Accessories"})})]}),Object(h.jsxs)("div",{className:"navbar__right",children:[a&&Object(h.jsx)(J,{}),Object(h.jsx)(j.b,{to:"/favourite",className:"favourities__link",children:Object(h.jsxs)("div",{className:"navbar-right__block",children:[Object(h.jsx)("div",{className:"navbar__icons liked"}),Object(h.jsx)("div",{className:m()({"navbar__fav-quantity-none":0===n,"navbar__fav-quantity":n>0}),children:Object(h.jsx)("span",{className:"navbar__fav-quantity-num",children:n})})]})}),Object(h.jsx)(j.b,{to:"/cart",className:"cart__link",children:Object(h.jsxs)("div",{className:"navbar-right__block",children:[Object(h.jsx)("div",{className:"navbar__icons backet"}),Object(h.jsx)("div",{className:m()({"navbar__card-quantity-none":0===i,"navbar__card-quantity":i>0}),children:Object(h.jsx)("span",{className:"navbar__cart-quantity-num",children:i})})]})})]})]})})},Y=(c(50),function(){return Object(h.jsx)("nav",{"data-cy":"nav",className:"footer is-fixed-bottom has-shadow",role:"navigation","aria-label":"sub navigation",children:Object(h.jsx)("div",{className:"footer__container",children:Object(h.jsxs)("div",{className:"footer-content",children:[Object(h.jsx)(v,{}),Object(h.jsxs)("div",{className:"footer__center",children:[Object(h.jsx)(j.c,{to:"/",target:"_blank",className:"footer__center-item",children:"Gihub"}),Object(h.jsx)(j.c,{to:"/",target:"_blank",className:"footer__center-item",children:"Contacts"}),Object(h.jsx)(j.c,{to:"/",target:"_blank",className:"footer__center-item",children:"Rights"})]}),Object(h.jsxs)("div",{className:"footer__right",children:[Object(h.jsx)("span",{className:"footer__right-text",children:"Back to top"}),Object(h.jsx)("button",{className:"footer__right-button","aria-label":"label",type:"button",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(h.jsx)("div",{className:"icon-top"})})]})]})})})}),G=function(){return Object(h.jsxs)("div",{"data-cy":"app",children:[Object(h.jsx)(U,{}),Object(h.jsx)(b.a,{}),Object(h.jsx)(Y,{})]})},H=(c(51),[c.p+"static/media/banner-phones.b4eeda8b.png",c.p+"static/media/banner-tablets.a962057c.png",c.p+"static/media/banner-accessories.bdd2e0fc.png"]),K=function(){var e=Object(s.useState)(0),t=Object(u.a)(e,2),c=t[0],a=t[1],n=function(){a((function(e){return(e+1)%H.length}))};return Object(s.useEffect)((function(){var e=setInterval(n,5e3);return function(){return clearInterval(e)}}),[]),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"carousel",children:[Object(h.jsxs)("div",{className:"carousel__content",children:[Object(h.jsx)("button",{onClick:function(){a((function(e){return 0===e?H.length-1:e-1}))},className:"carousel__button",type:"button","aria-label":"label",children:Object(h.jsx)("span",{className:"carousel__arrow--left"})}),Object(h.jsx)("div",{className:"carousel__images",children:H.map((function(e,t){return Object(h.jsx)("div",{className:"carousel__image",style:{opacity:t===c?1:0},children:Object(h.jsx)("img",{src:e,alt:"Slide ".concat(t+1),className:"carousel__img"})},e)}))}),Object(h.jsx)("button",{onClick:n,className:"carousel__button",type:"button","aria-label":"label",children:Object(h.jsx)("span",{className:"carousel__arrow--right"})})]}),Object(h.jsx)("div",{className:"carousel__dots",children:H.map((function(e,t){return Object(h.jsx)("div",{onKeyDown:function(e){return function(e,t){"Enter"!==e.key&&" "!==e.key||a(t)}(e,t)},className:m()("carousel__dot",{active:t===c}),onClick:function(){return a(t)}},e)}))})]})})},W=(c(52),function(e){var t=e.title,c=e.products,a=Object(s.useState)(0),n=Object(u.a)(a,2),i=n[0],r=n[1],l=Object(s.useMemo)((function(){return c.slice(i,i+4)}),[c,i]),o=0===i,d=i===c.length-4;return Object(h.jsx)("div",{className:"container center",children:Object(h.jsxs)("div",{className:"ProductsSlider",children:[Object(h.jsxs)("div",{className:"ProductsSlider__content",children:[Object(h.jsx)("h2",{className:"ProductsSlider__title",children:t}),Object(h.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(h.jsx)("button",{type:"button",onClick:function(){r((function(e){return Math.max(0,e-1)}))},disabled:o,className:m()("ProductsSlider__button",{disabled:o}),"aria-label":"label",children:Object(h.jsx)("div",{className:"arrow--left"})}),Object(h.jsx)("button",{type:"button",onClick:function(){r((function(e){return Math.min(e+1,c.length-4)}))},disabled:d,className:m()("ProductsSlider__button",{disabled:d}),"aria-label":"label",children:Object(h.jsx)("div",{className:"arrow--right"})})]})]}),Object(h.jsx)("div",{className:m()("ProductsSlider__cards",{"ProductsSlider__card--animated":0!==i}),"data-cy":"cardsContainer",children:l.map((function(e){return Object(h.jsx)("div",{className:"ProductsSlider__card",children:Object(h.jsx)(E,{product:e})},e.id)}))})]})})}),Z=(c(53),function(e){var t=e.products,c=function(e,t){return e.filter((function(e){return e.category===t})).length};return Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"category__container",children:Object(h.jsxs)("div",{className:"category__blocks",children:[Object(h.jsx)("div",{className:"category__block",children:Object(h.jsxs)(j.b,{to:"/phones",className:"category__link",children:[Object(h.jsx)("div",{className:"category__phones-img"}),Object(h.jsx)("span",{className:"category__title",children:"Mobile Phones"}),Object(h.jsx)("span",{className:"category__phones-quantity",children:"".concat(c(t,a.Phone)," models")})]})}),Object(h.jsx)("div",{className:"category__block",children:Object(h.jsxs)(j.b,{to:"/tablets",className:"category__link",children:[Object(h.jsx)("div",{className:"category__tablets-img"}),Object(h.jsx)("span",{className:"category__title",children:"Tablets"}),Object(h.jsx)("span",{className:"category__tablets-quantity",children:"".concat(c(t,a.Tablet)," models")})]})}),Object(h.jsx)("div",{className:"category__block",children:Object(h.jsxs)(j.b,{to:"/accessories",className:"category__link",children:[Object(h.jsx)("div",{className:"category__accessories-img"}),Object(h.jsx)("span",{className:"category__title",children:"Accessories"}),Object(h.jsx)("span",{className:"category__accessories-quantity",children:"".concat(c(t,a.Accessory)," models")})]})})]})})})}),Q=function(e){var t=e.products,c=Object(s.useMemo)((function(){return t.filter((function(e){return e.price})).sort((function(e,t){return t.price-e.price}))}),[t]),a=Object(s.useMemo)((function(){return Object(P.a)(t).sort((function(e,t){return t.year-e.year}))}),[t]);return Object(h.jsxs)("div",{className:"section",children:[Object(h.jsx)(K,{}),Object(h.jsx)(W,{title:"Hot Prices",products:c}),Object(h.jsx)(Z,{products:t}),Object(h.jsx)(W,{title:"Brand new models",products:a})]})},V=(c(54),function(){var e=Object(s.useContext)(N).favouriteProducts,t=Object(j.d)(),c=Object(u.a)(t,1)[0].get("query")||"",a=Object(s.useMemo)((function(){return e.filter((function(e){var t=c.toLowerCase().trim();return e.name.toLowerCase().trim().includes(t)}))}),[e,c]);return Object(h.jsx)("div",{className:"favourites",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"favourites__content",children:[Object(h.jsx)(y,{}),0===a.length&&!c&&Object(h.jsxs)("h1",{className:"favourites__title favourites__title--nothing",children:["You have not any favourite products. Maybe you want to choose something"," ",Object(h.jsx)(j.b,{to:"/phones",className:"favourites__link",children:"Phone"}),","," ",Object(h.jsx)(j.b,{to:"/tablets",className:"favourites__link",children:"Tablets"})," ","or"," ",Object(h.jsx)(j.b,{to:"/accessories",className:"favourites__link",children:"Accessories"})," ","?"]}),0===a.length&&c&&Object(h.jsx)("p",{children:"No search results"}),a.length>0&&Object(h.jsxs)("div",{className:"favourites__wrap",children:[Object(h.jsx)("h1",{className:"favourites__title",children:"Favourites"}),Object(h.jsx)("div",{className:"favourites__quantity",children:"".concat(a.length," items")}),Object(h.jsx)("div",{className:"favourites__list",children:a.map((function(e){return Object(h.jsx)(E,{product:e},e.id||e.phoneId)}))})]})]})})})}),X=(c(55),function(){var e=Object(b.p)();return Object(h.jsxs)("button",{type:"button",onClick:function(){return e(-1)},className:"back",children:[Object(h.jsx)("div",{className:"back__image"}),Object(h.jsx)("span",{className:"back__title",children:"Back"})]})}),ee=(c(56),"PLUS"),te="MINUS",ce=function(e){var t=e.product,c=t.name,a=t.id,n=t.quantity,i=t.image,r=t.price,l=Object(s.useContext)(p),o=l.productsInCart,d=l.setProductsInCart,u=r*n,j=function(e){d(o.filter((function(t){return t.id!==e})))},b=function(e,t){var c=o.some((function(t){return t.id===e}));n&&c&&(t===ee&&d(o.map((function(t){return t.id===e?Object(w.a)(Object(w.a)({},t),{},{quantity:n+1}):t}))),t===te&&d(o.map((function(t){return t.id===e?Object(w.a)(Object(w.a)({},t),{},{quantity:n-1}):t}))),0===n&&j(e))};return Object(h.jsxs)("div",{className:"cartItem",children:[Object(h.jsx)("button",{type:"button",className:"cartItem__removeBtn",onClick:function(){return j(a)},"aria-label":"label",children:Object(h.jsx)("div",{className:"cartItem__cross"})}),Object(h.jsx)("div",{className:"cartItem__photo",children:Object(h.jsx)("img",{src:"https://mate-academy.github.io/react_phone-catalog/_new/".concat(i),alt:"product img",className:"cartItem__img"})}),Object(h.jsx)("div",{className:"cartItem__title",children:c}),Object(h.jsx)("button",{type:"button",className:"cartItem__decrease",onClick:function(){return b(a,te)},"aria-label":"label",disabled:1===n,children:Object(h.jsx)("div",{className:"minus"})}),Object(h.jsx)("div",{className:"cartItem__quantity",children:n}),Object(h.jsx)("button",{type:"button",className:"cartItem__increase",onClick:function(){return b(a,ee)},"aria-label":"label",children:Object(h.jsx)("div",{className:"plus"})}),Object(h.jsx)("div",{className:"cartItem__price",children:"$".concat(u)})]})},ae=(c(57),function(e){var t=e.onClose;return Object(h.jsx)("div",{className:"popup",children:Object(h.jsxs)("div",{className:"popup__container",children:[Object(h.jsx)("h2",{className:"popup__title",children:"We are sorry, but this feature is not implemented yet"}),Object(h.jsx)("button",{className:"popup__btn",onClick:t,type:"button",children:"Close"})]})})}),se=(c(58),function(){var e=Object(s.useContext)(p).productsInCart,t=Object(s.useState)(!1),c=Object(u.a)(t,2),a=c[0],n=c[1],i=e.reduce((function(e,t){return e+t.price*t.quantity}),0),r=Object(s.useMemo)((function(){return e.reduce((function(e,t){return e+t.quantity}),0)}),[e]),l=function(){n((function(e){return!1===e}))};return function(e){Object(s.useEffect)((function(){var t=document.querySelector("body");return t&&(e?(t.classList.add("popup-open"),t.style.overflow="hidden"):(t.classList.remove("popup-open"),t.style.overflow="auto")),function(){t&&(t.classList.remove("popup-open"),t.style.overflow="auto")}}),[e])}(a),Object(h.jsx)("div",{className:"CartPage",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"CartPage__content",children:[Object(h.jsx)(X,{}),0===r?Object(h.jsxs)("h1",{className:"CartPage__title CartPage__title--no-products",children:["Your cart is empty. Maybe you want to choose something in"," ",Object(h.jsx)(j.b,{className:"CartPage__link",to:"/phones",children:"Phones"}),","," ",Object(h.jsx)(j.b,{className:"CartPage__link",to:"/tablets",children:"Tablets"})," ","or"," ",Object(h.jsx)(j.b,{className:"CartPage__link",to:"/accessories",children:"Accessories"})," ","?"]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"CartPage__title",children:"Cart"}),Object(h.jsxs)("div",{className:"CartPage__blocks",children:[Object(h.jsx)("div",{className:"CartPage__list",children:e.map((function(e){return 0!==e.quantity&&Object(h.jsx)(ce,{product:e},e.id)}))}),Object(h.jsx)("div",{className:"CartPage__checkout",children:Object(h.jsxs)("div",{className:"CartPage__checkout-content",children:[Object(h.jsx)("div",{className:"CartPage__checkout-title",children:"$".concat(i)}),1===r?Object(h.jsx)("div",{className:"CartPage__checkout-subtitle",children:"Total for ".concat(r," item")}):Object(h.jsx)("div",{className:"CartPage__checkout-subtitle",children:"Total for ".concat(r," items")}),Object(h.jsx)("button",{type:"button",className:"CartPage__checkout-button",onClick:l,"aria-label":"label",children:Object(h.jsx)("span",{className:"CartPage__checkout-button-text",children:"Checkout"})}),a&&Object(h.jsx)(ae,{onClose:l})]})})]})]})]})})})}),ne=(c(59),function(e){var t,c=e.products,a=Object(s.useState)(!1),n=Object(u.a)(a,2),i=n[0],r=n[1],l=Object(s.useState)(),_=Object(u.a)(l,2),v=_[0],O=_[1],x=Object(s.useState)(),f=Object(u.a)(x,2),g=f[0],C=f[1],k=Object(s.useState)(null===g||void 0===g?void 0:g.image),S=Object(u.a)(k,2),I=S[0],D=S[1],q=Object(b.n)().pathname,E=Object(b.r)().productId,L=void 0===E?"":E,R=Object(s.useContext)(p),B=R.productsInCart,$=R.setProductsInCart,z=Object(s.useContext)(N),J=z.favouriteProducts,U=z.setFavouriteProducts,Y=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A("/products/".concat(L,".json"));case 3:t=e.sent,a=c.find((function(e){return e.phoneId===L})),L===t.id&&(C(a),O(t)),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Error product details");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,Y();case 3:r(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(s.useEffect)((function(){Y()}),[L]),Object(s.useEffect)((function(){(null===v||void 0===v?void 0:v.images[0])!==I&&D(null===v||void 0===v?void 0:v.images[0])}),[null===v||void 0===v?void 0:v.images]);var G=B.some((function(e){return e.phoneId===(null===v||void 0===v?void 0:v.id)})),H=J.some((function(e){return e.phoneId===(null===v||void 0===v?void 0:v.id)})),K=Object(s.useMemo)((function(){return Object(P.a)(c).sort((function(){return Math.random()-.5})).filter((function(e){return e.id!==(null===g||void 0===g?void 0:g.id)}))}),[c,g]);return Object(h.jsxs)("div",{className:"ProductDetailsPage",children:[i&&Object(h.jsx)(M,{}),Object(h.jsxs)("div",{className:"container",children:[v&&!i&&Object(h.jsxs)("div",{className:"ProductDetailsPage__content",children:[Object(h.jsx)(y,{}),Object(h.jsx)("div",{className:"productPage__back",children:Object(h.jsx)(X,{})}),Object(h.jsx)("h1",{className:"ProductDetailsPage__title",children:null===v||void 0===v?void 0:v.name}),Object(h.jsxs)("div",{className:"ProductDetailsPage__main",children:[Object(h.jsx)("ul",{className:"ProductDetailsPage__list",children:null===v||void 0===v?void 0:v.images.map((function(e){return Object(h.jsx)("li",{className:"ProductDetailsPage__photo",onClick:function(){return function(e){D(e)}(e)},children:Object(h.jsx)("img",{className:"ProductDetailsPage__photo-img",src:"https://mate-academy.github.io/react_phone-catalog/_new/".concat(e),alt:"product img"})},e)}))}),Object(h.jsx)("div",{className:"ProductDetailsPage__current",children:Object(h.jsx)("img",{src:"https://mate-academy.github.io/react_phone-catalog/_new/".concat(I),alt:"main img",className:"ProductDetailsPage__current-img"})}),Object(h.jsxs)("div",{className:"ProductDetailsPage__characteristics",children:[Object(h.jsxs)("div",{className:"ProductDetailsPage__colors colors",children:[Object(h.jsx)("div",{className:"colors__text",children:"Available colors"}),Object(h.jsx)("div",{className:"colors__list",children:null===v||void 0===v?void 0:v.colorsAvailable.map((function(e){return Object(h.jsx)(j.b,{to:q.replace(null===v||void 0===v?void 0:v.color,e),className:m()("colors__link",{"colors__link-active":e===(null===v||void 0===v?void 0:v.color)}),children:Object(h.jsx)("div",{className:"colors__link-color colors__link-color--".concat(e)})},e)}))})]}),Object(h.jsxs)("div",{className:"ProductDetailsPage__capacities capacities",children:[Object(h.jsx)("div",{className:"capacities__text",children:"Select capacity"}),Object(h.jsx)("div",{className:"capacities__list",children:null===v||void 0===v?void 0:v.capacityAvailable.map((function(e){return Object(h.jsx)(j.b,{to:q.replace(null===v||void 0===v?void 0:v.capacity.toLowerCase(),e.toLowerCase()),type:"button",className:m()("capacities__link",{"capacities__link-active":e===(null===v||void 0===v?void 0:v.capacity)}),children:Object(h.jsx)("span",{className:m()("capacities__item",{"capacities__item-active":e===(null===v||void 0===v?void 0:v.capacity)}),children:e})},e)}))})]}),Object(h.jsxs)("div",{className:"ProductDetailsPage__price price",children:[Object(h.jsx)("div",{className:"price__normal",children:"$".concat(null===v||void 0===v?void 0:v.priceDiscount)}),g&&Object(h.jsx)("div",{className:"price__without-discount",children:"$".concat(null===v||void 0===v?void 0:v.priceRegular)})]}),Object(h.jsxs)("div",{className:"ProductDetailsPage__buttons buttons",children:[Object(h.jsx)(T,{handleAddToCart:function(){if(G){var e=B.filter((function(e){return e.phoneId!==(null===v||void 0===v?void 0:v.id)}));$(e)}else if(g){var t=Object(w.a)(Object(w.a)({},g),{},{quantity:1});$([].concat(Object(P.a)(B),[t]))}},id:L}),Object(h.jsx)(F,{handleAddToFavourites:function(){if(H){var e=J.filter((function(e){return e.phoneId!==(null===v||void 0===v?void 0:v.id)}));U(e)}else g&&U([].concat(Object(P.a)(J),[g]))},isItemFavourite:H})]}),Object(h.jsxs)("div",{className:"ProductDetailsPage__details details",children:[Object(h.jsxs)("div",{className:"details__item",children:[Object(h.jsx)("div",{className:"details__name",children:"Screen"}),Object(h.jsx)("div",{className:"details__value",children:(null===v||void 0===v?void 0:v.screen)||"-"})]}),Object(h.jsxs)("div",{className:"details__item",children:[Object(h.jsx)("div",{className:"details__name",children:"Resolution"}),Object(h.jsx)("div",{className:"details__value",children:(null===v||void 0===v?void 0:v.resolution)||"-"})]}),Object(h.jsxs)("div",{className:"details__item",children:[Object(h.jsx)("div",{className:"details__name",children:"Processor"}),Object(h.jsx)("div",{className:"details__value",children:(null===v||void 0===v?void 0:v.processor)||"-"})]}),Object(h.jsxs)("div",{className:"details__item",children:[Object(h.jsx)("div",{className:"details__name",children:"RAM"}),Object(h.jsx)("div",{className:"details__value",children:(null===v||void 0===v?void 0:v.ram)||"-"})]})]})]}),Object(h.jsxs)("div",{className:"ProductDetailsPage__id",children:[Object(h.jsx)("div",{className:"ProductDetailsPage__id-name",children:"ID:"}),Object(h.jsx)("div",{className:"ProductDetailsPage__id-value",children:(null===v||void 0===v?void 0:v.id)||"-"})]})]}),Object(h.jsxs)("div",{className:"ProductDetailsPage__info",children:[Object(h.jsxs)("div",{className:"ProductDetailsPage__about about","data-cy":"productDescription",children:[Object(h.jsx)("h2",{className:"about__title",children:"About"}),Object(h.jsx)("div",{className:"about__description",children:null===v||void 0===v?void 0:v.description.join(" ")})]}),Object(h.jsxs)("div",{className:"ProductDetailsPage__tech tech",children:[Object(h.jsx)("h2",{className:"tech__title",children:"Tech specs"}),Object(h.jsxs)("div",{className:"tech__details details",children:[Object(h.jsxs)("div",{className:"details__item details__item--tech",children:[Object(h.jsx)("div",{className:"details__name",children:"Screen"}),Object(h.jsx)("div",{className:"details__value",children:(null===v||void 0===v?void 0:v.screen)||"-"})]}),Object(h.jsxs)("div",{className:"details__item details__item--tech",children:[Object(h.jsx)("div",{className:"details__name",children:"Resolution"}),Object(h.jsx)("div",{className:"details__value",children:(null===v||void 0===v?void 0:v.resolution)||"-"})]}),Object(h.jsxs)("div",{className:"details__item details__item--tech",children:[Object(h.jsx)("div",{className:"details__name",children:"Processor"}),Object(h.jsx)("div",{className:"details__value",children:(null===v||void 0===v?void 0:v.processor)||"-"})]}),Object(h.jsxs)("div",{className:"details__item details__item--tech",children:[Object(h.jsx)("div",{className:"details__name",children:"RAM"}),Object(h.jsx)("div",{className:"details__value",children:(null===v||void 0===v?void 0:v.ram)||"-"})]}),Object(h.jsxs)("div",{className:"details__item details__item--tech",children:[Object(h.jsx)("div",{className:"details__name",children:"Built in memory"}),Object(h.jsx)("div",{className:"details__value",children:(null===v||void 0===v?void 0:v.capacity)||"-"})]}),Object(h.jsxs)("div",{className:"details__item details__item--tech",children:[Object(h.jsx)("div",{className:"details__name",children:"Camera"}),Object(h.jsx)("div",{className:"details__value",children:(null===v||void 0===v?void 0:v.camera.primary)||"-"})]}),Object(h.jsxs)("div",{className:"details__item details__item--tech",children:[Object(h.jsx)("div",{className:"details__name",children:"Zoom"}),Object(h.jsx)("div",{className:"details__value",children:(null===v||void 0===v?void 0:v.zoom)||"-"})]}),Object(h.jsxs)("div",{className:"details__item details__item--tech",children:[Object(h.jsx)("div",{className:"details__name",children:"Wifi"}),Object(h.jsx)("div",{className:"details__value",children:(null===(t=v.connectivity)||void 0===t?void 0:t.wifi)||"N/A"})]})]})]})]}),Object(h.jsx)("div",{className:"productCardPage__slider",children:Object(h.jsx)(W,{title:"You may also like",products:K})})]}),!v&&!i&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(X,{})})]})]})}),ie=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],n=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A("/products.json");case 3:t=e.sent,a(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Loading products error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){n()}),[]),Object(h.jsx)(j.a,{children:Object(h.jsx)(f,{children:Object(h.jsx)(g,{children:Object(h.jsx)(b.d,{children:Object(h.jsxs)(b.b,{path:"/",element:Object(h.jsx)(G,{}),children:[Object(h.jsx)(b.b,{index:!0,element:Object(h.jsx)(Q,{products:c})}),Object(h.jsxs)(b.b,{path:":category",children:[Object(h.jsx)(b.b,{index:!0,element:Object(h.jsx)(z,{products:c})}),Object(h.jsx)(b.b,{path:":productId",element:Object(h.jsx)(ne,{products:c})})]}),Object(h.jsx)(b.b,{path:"favourite",element:Object(h.jsx)(V,{})}),Object(h.jsx)(b.b,{path:"cart",element:Object(h.jsx)(se,{})}),Object(h.jsx)(b.b,{path:"*",element:Object(h.jsx)("h1",{className:"title",children:"Page not found"})})]})})})})})};r.a.createRoot(document.getElementById("root")).render(Object(h.jsx)(ie,{}))}]),[[60,1,2]]]);
//# sourceMappingURL=main.94fda8e9.chunk.js.map